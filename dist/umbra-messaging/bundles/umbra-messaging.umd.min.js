!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("@angular/animations"),require("@angular/common"),require("@angular/material")):"function"==typeof define&&define.amd?define("umbra-messaging",["exports","@angular/core","@angular/cdk/overlay","@angular/cdk/portal","@angular/animations","@angular/common","@angular/material"],e):e((t=t||self)["umbra-messaging"]={},t.ng.core,t.ng.cdk.overlay,t.ng.cdk.portal,t.ng.animations,t.ng.common,t.ng.material)}(this,function(t,e,o,n,a,i,r){"use strict";var s=function(){function t(t){this.overlay=t}return t.prototype.close=function(){this.overlay.dispose()},t.prototype.isVisible=function(){return this.overlay&&this.overlay.overlayElement},t.prototype.getPosition=function(){return this.overlay.overlayElement.getBoundingClientRect()},t}();var c=function(){};var l={position:{top:20,right:20},animation:{fadeOut:2500,fadeIn:300},toastData:{type:"success"}},u=new e.InjectionToken("toast-config"),p={fadeToast:a.trigger("fadeAnimation",[a.state("default",a.style({opacity:1})),a.transition("void => *",[a.style({opacity:0}),a.animate("{{ fadeIn }}ms")]),a.transition("default => closing",a.animate("{{ fadeOut }}ms",a.style({opacity:0})))])},d=function(){function t(t,e){this.data=t,this.ref=e,this.animationState="default",this.iconType="success"===t.type?"done":t.type}return t.prototype.ngOnInit=function(){var t=this;this.intervalId=setTimeout(function(){return t.animationState="closing"},5e3)},t.prototype.ngOnDestroy=function(){clearTimeout(this.intervalId)},t.prototype.close=function(){this.ref.close()},t.prototype.onFadeFinished=function(t){var e="closing"===t.toState,o="closing"===this.animationState;e&&o&&this.close()},t.decorators=[{type:e.Component,args:[{selector:"umbra-messaging-toast",template:'<div class="toast" [class]="data.type">\r\n    <div>{{ data.text }}</div>\r\n    <mat-icon (click)="close()">close</mat-icon>\r\n</div>\r\n',animations:[p.fadeToast],changeDetection:e.ChangeDetectionStrategy.OnPush,styles:[".toast{position:relative;display:-webkit-box;display:flex;justify-content:space-around;margin-bottom:20px;padding:10px 15px;width:200px;min-width:200px;background:#fff;border-width:1px;border-style:solid;border-color:#ddd #d6d6d6 #cfcfcf;box-shadow:0 2px 4px rgba(0,0,0,.11)}"]}]}],t.ctorParameters=function(){return[{type:c},{type:s}]},t}();var g=function(){function t(t,e){this.overlay=t,this.parentInjector=e}return t.prototype.showToast=function(t){console.log("Config",t),null==t&&(this.toastConfig=l);var e=this.getPositionStrategy(),o=this.overlay.create({positionStrategy:e}),a=new s(o),i=this.getInjector(t.toastData,a,this.parentInjector),r=new n.ComponentPortal(d,null,i);return o.attach(r),a},t.prototype.getPositionStrategy=function(){return this.overlay.position().global().top(this.getPosition()).right(this.toastConfig.position.right+"px")},t.prototype.getPosition=function(){return(this.lastToast&&this.lastToast.isVisible()?this.lastToast.getPosition().bottom:this.toastConfig.position.top)+"px"},t.prototype.getInjector=function(t,e,o){var a=new WeakMap;return a.set(c,t),a.set(s,e),new n.PortalInjector(o,a)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:o.Overlay},{type:e.Injector}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(o.Overlay),e.ɵɵinject(e.INJECTOR))},token:t,providedIn:"root"}),t}();var f=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[d],imports:[i.CommonModule,o.OverlayModule,r.MatIconModule],entryComponents:[d]}]}],t}();t.TOAST_CONFIG_TOKEN=u,t.ToastData=c,t.UmbraToastModule=f,t.UmbraToastService=g,t.defaultToastConfig=l,t.ɵa=d,t.ɵb=p,t.ɵc=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=umbra-messaging.umd.min.js.map