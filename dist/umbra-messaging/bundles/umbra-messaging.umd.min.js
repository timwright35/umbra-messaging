!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("@angular/animations"),require("@angular/common"),require("@angular/material")):"function"==typeof define&&define.amd?define("umbra-messaging",["exports","@angular/core","@angular/cdk/overlay","@angular/cdk/portal","@angular/animations","@angular/common","@angular/material"],e):e((t=t||self)["umbra-messaging"]={},t.ng.core,t.ng.cdk.overlay,t.ng.cdk.portal,t.ng.animations,t.ng.common,t.ng.material)}(this,function(t,e,o,n,i,a,r){"use strict";var s=function(){function t(t){this.overlay=t}return t.prototype.close=function(){this.overlay.dispose()},t.prototype.isVisible=function(){return this.overlay&&this.overlay.overlayElement},t.prototype.getPosition=function(){return this.overlay.overlayElement.getBoundingClientRect()},t}();var c=function(){};var l={position:{top:20,right:20},animation:{fadeOut:2500,fadeIn:300}},u=(new e.InjectionToken("toast-config"),{fadeToast:i.trigger("fadeAnimation",[i.state("default",i.style({opacity:1})),i.transition("void => *",[i.style({opacity:0}),i.animate("{{ fadeIn }}ms")]),i.transition("default => closing",i.animate("{{ fadeOut }}ms",i.style({opacity:0})))])}),p=function(){function t(t,e){this.data=t,this.ref=e,this.animationState="default",this.iconType="success"===t.type?"done":t.type}return t.prototype.ngOnInit=function(){var t=this;this.intervalId=setTimeout(function(){return t.animationState="closing"},5e3)},t.prototype.ngOnDestroy=function(){clearTimeout(this.intervalId)},t.prototype.close=function(){this.ref.close()},t.prototype.onFadeFinished=function(t){var e="closing"===t.toState,o="closing"===this.animationState;e&&o&&this.close()},t.decorators=[{type:e.Component,args:[{selector:"umbra-messaging-toast",template:'<div class="toast">\n    <mat-icon>{{ iconType }}</mat-icon>\n    <div>{{ data.text }}</div>\n    <mat-icon (click)="close()">close</mat-icon>\n</div>\n',animations:[u.fadeToast],changeDetection:e.ChangeDetectionStrategy.OnPush,styles:[".toast{position:relative;display:-webkit-box;display:flex;justify-content:space-around;margin-bottom:20px;padding:10px 15px 10px 48px;width:290px;background:#fff;border-width:1px;border-style:solid;border-color:#ddd #d6d6d6 #cfcfcf;box-shadow:0 2px 4px rgba(0,0,0,.11)}"]}]}],t.ctorParameters=function(){return[{type:c},{type:s}]},t}();var d=function(){function t(t,e){this.overlay=t,this.parentInjector=e}return t.prototype.showToast=function(t,e){null==e&&(this.toastConfig=l);var o=this.getPositionStrategy(),i=this.overlay.create({positionStrategy:o}),a=new s(i),r=this.getInjector(t,a,this.parentInjector),c=new n.ComponentPortal(p,null,r);return i.attach(c),a},t.prototype.getPositionStrategy=function(){return this.overlay.position().global().top(this.getPosition()).right(this.toastConfig.position.right+"px")},t.prototype.getPosition=function(){return(this.lastToast&&this.lastToast.isVisible()?this.lastToast.getPosition().bottom:this.toastConfig.position.top)+"px"},t.prototype.getInjector=function(t,e,o){var i=new WeakMap;return i.set(c,t),i.set(s,e),new n.PortalInjector(o,i)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:o.Overlay},{type:e.Injector}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(o.Overlay),e.ɵɵinject(e.INJECTOR))},token:t,providedIn:"root"}),t}();var g=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[p],imports:[a.CommonModule,o.OverlayModule,r.MatIconModule],entryComponents:[p]}]}],t}();t.UmbraToastModule=g,t.UmbraToastService=d,t.ɵa=p,t.ɵb=u,t.ɵc=c,t.ɵd=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=umbra-messaging.umd.min.js.map